# ============================================================================
# FCBA (Factorized Trigger Backdoor Attack) åŸºçº¿é…ç½®
# ç”¨äºå¯¹æ¯”å®éªŒ - 500è½®å®Œæ•´è®­ç»ƒ
# ============================================================================

# ============= åŸºç¡€é…ç½® =============
dataset: 'cifar10'
seed: 42
epochs: 500                    # ğŸ”´ 500è½®å®Œæ•´è®­ç»ƒ
poison_epochs: 500
poison_start_epoch: 0

# ============= è”é‚¦å­¦ä¹ é…ç½® =============
num_total_participants: 100
num_sampled_participants: 10
num_adversaries: 4             # æ ‡å‡†ï¼š4ä¸ªæ”»å‡»è€…
sample_method: 'random'        # IIDæ•°æ®åˆ†å¸ƒ
dirichlet_alpha: 0.9

# ============= è®­ç»ƒé…ç½® =============
lr: 0.01                       # æ ‡å‡†å­¦ä¹ ç‡
target_lr: 0.01
lr_method: 'step'
lr_decay_epochs: [250, 375]    # åœ¨50%, 75%å¤„è¡°å‡
lr_decay_factor: 0.1

momentum: 0.9
decay: 0.0005                  # æ ‡å‡†æƒé‡è¡°å‡
batch_size: 64
test_batch_size: 1024
retrain_times: 2               # è‰¯æ€§å®¢æˆ·ç«¯è®­ç»ƒ2æ¬¡
attacker_retrain_times: 2      # æ”»å‡»è€…è®­ç»ƒ2æ¬¡

# ============= èšåˆæ–¹æ³•é…ç½® =============
agg_method: 'avg'              # æ ‡å‡†FedAvg
clip_factor: 1

# ============= å› å­åŒ–æ”»å‡»æ ¸å¿ƒé…ç½® =============
attacker_method: 'factorized'

# k-of-mè§„åˆ™ï¼ˆæ ¸å¿ƒï¼‰
k_of_m_k: 2                    # è®­ç»ƒæ—¶éšæœºé€‰2ä¸ªå› å­
k_of_m_m: 3                    # æ¨ç†æ—¶åº”ç”¨å…¨éƒ¨3ä¸ªå› å­

# åŠ¨æ€å¼ºåº¦è°ƒåº¦ï¼ˆæ ‡å‡†é…ç½®ï¼‰
initial_intensity: 0.10        # åˆå§‹10%
final_intensity: 0.50          # æœ€ç»ˆ50%

# ä»»åŠ¡åˆ†ç¦»æƒé‡ï¼ˆå¹³è¡¡é…ç½®ï¼‰
task_separation_weight: 0.50   # 50%åé—¨ + 50%ä¸»ä»»åŠ¡

# è½®æ¢ç­–ç•¥
rotation_strategy: 'adversary_specific'  # æ¯ä¸ªæ”»å‡»è€…ç‹¬ç«‹è½®æ¢
rotation_frequency: 1                     # æ¯è½®éƒ½è½®æ¢

# æ”»å‡»ç›®æ ‡
target_class: 2
bkd_ratio: 0.25                # æ ‡å‡†25%æŠ•æ¯’ç‡

# è¯„ä¼°é¢‘ç‡
eval_freq: 10                  # æ¯10è½®è¯„ä¼°ä¸€æ¬¡

# ============= å¯è§†åŒ–é…ç½® =============
visualization:
  enabled: true
  save_interval: 20            # æ¯20è½®ä¿å­˜ä¸€æ¬¡ï¼ˆé™ä½å¼€é”€ï¼‰
  save_dir: './visualizations_baseline'

# ============= è¾“å‡ºé…ç½® =============
environment_name: 'fcba_baseline_500ep'
save_model: true
save_on_epochs: [100, 200, 300, 400, 500]
results_dir: './results/fcba_baseline_500ep'

